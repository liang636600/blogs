# 1. 概述

查询处理步骤包括 语法分析与翻译，优化，执行

![1663054357696](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/1663054357696.jpg)

# 2. 查询代价的度量

为方便起见，仅仅用 传送磁盘块数 + 搜索磁盘次数 来度量查询执行计划的代价

假设磁盘子系统传输一个块的数据平均消耗 tT 秒，磁盘块平均访问时间（磁盘搜索时间+旋转延迟）为ts秒，则一次传输b个块以及执行S次磁盘搜索的操作将消耗b* tT+S*ts 秒。ts一般为4ms，tT一般为0.1ms；写磁盘的代价通常是读磁盘的两倍（写磁盘操作写完后还会读取验证一次），本书忽略此细节

优化器通常努力去尽可能**降低查询计划总的资源消耗**，而不是响应时间

# 3. 选择运算

## 使用文件扫描和索引的选择

假定所有元组都保存在单个文件的关系上，执行选择操作最简单方式如下

* A1（线性搜索）：假定文件块是顺序存放的，扫描每一个文件块，对所有记录都进行测试，看其是否满足选择条件
* A2（主索引， 码属性等值比较）
* A3（主索引，非码属性等值比较）