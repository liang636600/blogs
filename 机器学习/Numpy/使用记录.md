# 数组初始化

```python
import numpy as np
# dtype表示array里每个数值的类型, np.float
array = np.array([[1,2,3],[2,3,4]],dtype=np.int)
# 全为0的矩阵 (3,4)表示数据shape
zeros = np.zeros((3,4))
# 全为1的矩阵
ones = np.ones((3,4))
# 生成序列 [10,20)起始值10，终止值20，步长为2
a = np.arange(10,20,2)
# np.arange(12)生成[0,12)
ab = np.arange(12)
# 改变形状
ab = ab.reshape((3,4))
# 把[1,10]线段取5个点（即平均分为4份，每份长度为9/4=2.25） 结果为[1,1+2.25,...,10]
a = np.linspace(1,10,5)
x = np.linspace(-1,1,5) # 从[-1,1]中线性地取5个点， [-1.  -0.5  0.   0.5  1. ]
```

## 生成随机数据

### numpy.random.normal(0 均值,1 方差,num 数量)

高斯分布

### numpy.random.randn(d0,d1)

标准正态分布(standard normal)

### numpy.random.uniform(low, high, size)

[low, high)均匀分布

### numpy.random.random(size)

[0.0, 1.0)随机生成一个小数

### numpy.random.random_sample(size)

[0.0, 1.0)，均匀分布

# 从文件载入数据

## numpy.loadtxt

从一个文本文件中加载数据

**要求：**每一行必须有相同数量的值

**参数：**

* **comments**：注释开始的符号，这行不会被读入
* **skiprows**：默认值为0表示从第一行开始读，假设值为2从第三行开始读
* **usecols**：读取哪些列，从0开始，usecols = (1,4,5)表示读取第2,5,6列，只读取一列（usecols = 3或usecols = (3,)），其中usecols=range(0, 9)表示读取[0,9)列
* **max_rows**：在skiprows确定从第几行开始读取后，读取行的数量为max_rows行

# 访问数据

```python
A = np.arange(12).reshape((3,4))
# 索引行数
b = A[2]
# 对某行某列
b = A[1,2]
# 行数选0,1，所有列
b= A[0:2,:]

# for循环默认迭代array的行
for row in A:
    print(row)
```

# array的属性

```python
import numpy as np
array = np.array([[1,2,3],[2,3,4]])
# array.ndim表示数据维度 2
print(array.ndim)
# array的形状 (2,3)
print(array.shape)
# array里面有多少数据 6
print(array.size)
```

# array的运算

```python
import numpy as np
b = np.arange(4)
# b里面的值与3作比较[ True  True  True False]
# b==3
print(b<3)
```

## 常见数学运算

```python
# 乘法
# a*b表示矩阵每个对应的元素相乘
# np.dot(a,b) 表示矩阵的乘法
# a.dot(b)

import numpy as np
a = np.arange(12).reshape((3,4))
print(a)
# 对整个array进行
# 求和
print(np.sum(a))
# 求最小值
print(np.min(a))
# 求最大值
print(np.max(a))

# 求最大值
# axis=0表示对每一列求最大值
print(np.max(a, axis=0))
# axis=1表示对每一行求最大值
print(np.max(a, axis=1))

a = np.arange(2,14).reshape((3,4))
# 求最小值所在的索引（以size的大小为总数，上面例子中索引最大为11）
b = np.argmin(a) # 返回0
# 求最大值所在的索引
b = np.argmax(a) # 返回11
# 计算平均值
b = np.mean(a)
b = a.mean()
# 计算中位数
b = np.median(a)
# 累加过程，第一个的值就是本身，第二个的值是第一个加原来第二个的值
# 第三个的值是原来第1,2,3个值之和...
b = np.cumsum(a)
# 类差过程
# 每行中，后一个值与前一个值的差值
b = np.diff(a)
# 返回非0的数所在的位置
b = np.nonzero(a) # 返回两个数组，第一个数组为横坐标位置，第二个数组为纵坐标的位置，第一个数组和第二个数组组成的坐标表示非0数所在的位置
# 排序,对每一行按从小到大的顺序排序
b = np.sort(a)
# 矩阵转置
b = np.transpose(a)
b = a.T
# clip功能,对a里面的数处理，所有小于5的值都变为5，所有大于9的值都变为9
b = np.clip(a,5,9)
```

## array的合并

````python
import numpy as np
A = np.array([1,1,1])
B = np.array([2,2,2])
# 合并两个array,把B放在A的下方，变成2*3
b = np.vstack((A,B)) # vertical stack
b = np.hstack((A,B)) # 左右合并 (6,)
# 多个array合并,axis=0表示纵向合并，axis=1表示横向合并
a = np.array([[1, 2], [3, 4]])
b = np.array([[5, 6]])
b=np.concatenate((a, b), axis=0)
# [[1 2]
#  [3 4]
#  [5 6]]
````

## array的分割

```python
import numpy as np
A = np.arange(12).reshape((3,4))
# [[ 0  1  2  3]
#  [ 4  5  6  7]
#  [ 8  9 10 11]]
# 分割
# 横向来看，分成两块，画十字
b= np.split(A,2,axis=1)
# [array([[0, 1],
#        [4, 5],
#        [8, 9]]), array([[ 2,  3],
#        [ 6,  7],
#        [10, 11]])]

# 纵向来看，分成3块
b = np.split(A,3,axis=0)
# [array([[0, 1, 2, 3]]), array([[4, 5, 6, 7]]), array([[ 8,  9, 10, 11]])]

# 不等量的分割,横着来看
b = np.array_split(A,3,axis=1)
# [array([[0, 1],
#        [4, 5],
#        [8, 9]]), array([[ 2],
#        [ 6],
#        [10]]), array([[ 3],
#        [ 7],
#        [11]])]

# 纵向来看，分割成3份
b = np.vsplit(A,3)
# 横向来看，分割成2份
b = np.hsplit(A, 2)
```

## array的赋值

**浅拷贝**：如果b=a，那么a与b指向的内存位置相同

**深拷贝**：b=a.copy()

# 数据处理

## 维度处理

### 多维变一维

numpy中的ravel()、flatten()、squeeze()都有将多维数组转换为一维数组的功能，区别：
ravel()：如果没有必要，不会产生源数据的副本
flatten()：返回源数据的副本
squeeze()：只能对维数为1的维度降维

另外，reshape(-1)也可以“拉平”多维数组

![这里写图片描述](https://img-blog.csdn.net/20180109095535985?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdHltYXRsYWI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

### 增加维度

```python
A = np.array([1,1,1])
# 增加array的维度
b = A[np.newaxis,:] # 把维度(3,)变成(1,3)
b = A[:,np.newaxis] # 把维度(3,)变成(3,)
```

