![image-20220605091016357](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220605091016357.png)

![image-20220605094244733](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220605094244733.png)

# 对称秩1算法(Symmetric Rank-1,SR1)

Bk近似inv(H)

![image-20220609162544852](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609162544852.png)

![image-20220609162856197](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609162856197.png)

![image-20220609163011111](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609163011111.png)

![image-20220609163739825](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609163739825.png)

![image-20220609164005517](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609164005517.png)

![InkedInkedimage-20220609164259796_LI](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/InkedInkedimage-20220609164259796_LI.jpg)

代码

下面的δ表示Δx，δg表示Δgk

![image-20220609192449053](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609192449053.png)

![image-20220609192654748](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609192654748.png)

割线法求α

![image-20220609194004548](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609194004548.png)

![image-20220609191425116](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609191425116.png)

# DFP(SR2算法)

使用Bk近似代表inv(H)

![image-20220609192231611](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609192231611.png)

![image-20220609192021768](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609192021768.png)

![image-20220609192104116](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609192104116.png)

![image-20220609192129035](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609192129035.png)

代码

![image-20220609194340364](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609194340364.png)

#  BFGS

用F矩阵近似替代H矩阵，但可以通过其他方法把求逆的过程简化

![image-20220609200310980](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609200310980.png)

![image-20220609200638457](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609200638457.png)

![image-20220609200757502](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609200757502.png)

但是还是需要计算inv(H)，需要很大的代价，通过下面的方法优化

![image-20220609201506149](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609201506149.png)

![image-20220609201422989](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609201422989.png)

![Inkedimage-20220609201836669_LI](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/Inkedimage-20220609201836669_LI.jpg)

代码

![image-20220609202339821](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609202339821.png)

![image-20220609202457607](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220609202457607.png)

![image-20220604225309905](https://raw.githubusercontent.com/liang636600/cloudImg/master/images/image-20220604225309905.png)

# L-BFGS

**时间换空间**

B矩阵可能较大，由于存储B矩阵可能占用较大空间，因此存储yk与δk的值（存储y1与δ1，y2与δ2，y3与δ3等），然后从B0迭代计算对应的Bk的值

但是,仅仅是这样还是不够的,因为当迭代次数非常大的时候,我们的内存同样存不下.这个时候只能丢掉一些存不下的数据.假设我们设置的存储向量数为100,当δ和y迭代超过100时,就会扔掉第一个δ和y,每多一次迭代就对应的扔掉最前边的s和y.这样虽然损失了精度,但确可以保证使用有限的内存将函数的解通过BFGS算法求得到.